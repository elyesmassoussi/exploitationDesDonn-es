package org.example.entities.functions;

import org.apache.commons.lang3.StringUtils;
import org.example.entities.beans.Population;

import java.io.Serializable;
import java.util.function.Function;

public class TextToPopulation implements Function<String, Population>, Serializable {
    @Override
    public  Population apply(String line) {
        String[] infos = StringUtils.splitByWholeSeparatorPreserveAllTokens(line, ";");



        String annee = infos[0].trim();
        String popMunicipale = infos[1].trim();
        String popCompte = infos[2].trim();
        String popTotale = infos[3].trim();


        return Population.builder()
                .annee(annee)
                .popMunicipale(popMunicipale)
                .popComptee(popCompte)
                .popTotale(popTotale)
                .build();
    }
}
